-- database: d:\Folders\Coding\GoatedGT\database.db

-- Use the â–· button in the top right corner to run the entire file.

-- ------------------------------------------- delete table
DROP TABLE users;
DROP TABLE sems;
DROP TABLE classes;
DROP TABLE parts;
DROP TABLE grades;
DROP TABLE timeStamps;

-- ------------------------------------ clear data of table
DELETE FROM users;
DELETE FROM sems;
DELETE FROM classes;
DELETE FROM parts;
DELETE FROM grades;
DELETE FROM timeStamps;

-- ------------------------------------------- create table
CREATE TABLE users(
    userId INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    username TEXT NOT NULL UNIQUE,
    userpw TEXT
);
CREATE TABLE sems (
    semId INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    semName TEXT NOT NULL,
    semNote TEXT,
    username TEXT NOT NULL,
    FOREIGN KEY (username) REFERENCES users(username)
);
CREATE TABLE classes (
    classId INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    className TEXT NOT NULL,
    classCode TEXT,
    classCredit INTEGER,
    classGradeA INTEGER,
    classGradeB INTEGER,
    classGradeC INTEGER,
    classActualGrade TEXT,
    classNote TEXT,
    semLabel TEXT NOT NULL,
    FOREIGN KEY (semLabel) REFERENCES sems(semLabel)
);
CREATE TABLE parts (
    partId INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    partName TEXT NOT NULL,
    partPercent INTEGER NOT NULL,
    partNote TEXT,
    classId INTEGER NOT NULL,
    FOREIGN KEY (classId) REFERENCES classes(classId)
);
CREATE TABLE grades (
    gradeId INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    gradeGot REAL,
    gradeOutOf REAL,
    gradeGotEst REAL,
    gradeOutOfEst REAL,
    gradeNote TEXT,
    partId INTEGER NOT NULL,
    FOREIGN KEY (partId) REFERENCES parts(partId)
);
CREATE TABLE timeStamps (
    timeId INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    timeDD INTEGER NOT NULL,
    timeMM INTEGER NOT NULL,
    timeYY INTEGER NOT NULL,
    gradeGot REAL,
    gradeOutOf REAL,
    gradeId INTEGER NOT NULL,
    FOREIGN KEY (gradeId) REFERENCES grades(gradeId)
);

-- ------------------------------------------------ testing
INSERT INTO users VALUES ("wdc");